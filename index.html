<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Flappy Fashion Invoice Generator</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  </head>
  <body>
    <div class="container">
      <!-- LEFT PANEL: Inputs -->
      <div class="panel">
        <h2>Invoice Details</h2>
        <div style="display: flex; gap: 2rem">
          <div>
            <label>Customer Name</label>
            <input id="custName" required placeholder="Mst Taniya Akther" />
          </div>
          <div>
            <label>Phone Number</label>
            <input id="custPhone" required placeholder="01311061391" />
          </div>
        </div>
        <label>Address</label>
        <textarea
          id="custAddress"
          required
          placeholder="311 west kandapara Narsingdi 1600"
        ></textarea>
        <div style="display: flex; gap: 2rem">
          <div>
            <label>Advance (TK)</label>
            <input id="advance" type="number" value="0" min="0" />
          </div>
          <div>
            <label>Delivery Charge (TK)</label>
            <input id="delivery" type="number" value="120" min="0" />
          </div>
        </div>
        <h3>Items</h3>
        <div id="itemsListContainer"></div>
        <button class="btn btn-add" onclick="openModal()">+ Add Item</button>
      </div>

      <!-- RIGHT PANEL: Invoice Preview -->
      <div id="invoiceWrapper">
        <div id="invoiceScroll">
          <div class="invoice" id="invoice">
            <!-- LONG INVOICE CONTENT HERE -->
          </div>
          <div
            class="invoice"
            id="invoiceHistory"
            style="margin-top: 20px"
          ></div>
        </div>
        <div class="invoice-actions">
          <button class="btn btn-generate" onclick="savePDF()">Save Pdf</button>
          <button class="btn btn-add" onclick="downloadPDF()">
            Download PDF
          </button>
        </div>
      </div>
    </div>

    <!-- MODAL -->
    <div id="itemModal" class="modal" onclick="closeModal()">
      <div class="modal-content" onclick="event.stopPropagation()">
        <span class="close" onclick="closeModal()">Ã—</span>
        <h2>Add Item</h2>
        <div class="modal-input-group">
          <label>Product Name</label>
          <input id="modalProductName" placeholder="Product Name" />
        </div>
        <div class="modal-input-group">
          <label>Price (TK)</label>
          <input id="modalPrice" type="number" value="0" min="0" />
        </div>
        <div class="modal-input-group">
          <label>Quantity</label>
          <input id="modalQty" type="number" value="1" min="1" />
        </div>
        <button
          id="modalSubmitBtn"
          class="btn btn-generate"
          onclick="addItemFromModal()"
        >
          Add Item
        </button>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
